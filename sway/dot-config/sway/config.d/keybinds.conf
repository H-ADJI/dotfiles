# ------------------
# apps
# ------------------
set $mod Mod4
# Set default terminal emulator
set $term alacritty
# Launch the terminal
bindsym $mod+Return exec $term
bindsym $mod+t exec $term

# Set default browser
set $browser brave --ozone-platform=wayland --ozone-platform-hint=wayland 

# Launch the browser
bindsym $mod+o exec $browser

# Application launcher
set $launcher fuzzel
# Start your launcher
bindsym $mod+d exec $launcher

# Power Menu
set $powermenu "wlogout -b 4 -T 400 -B 400"
# Open the power menu
bindsym $mod+Shift+e exec $powermenu

# Lock screen
bindsym $mod+f1 exec gtklock

# Activities
bindsym $mod+p exec ~/.config/sway/scripts/window_switcher.sh

# Launch the file explorer
bindsym $mod+n exec thunar
bindsym $mod+y exec alacritty -e yazi
bindsym $mod+Shift+b exec alacritty -e bluetui
bindsym $mod+Shift+w exec alacritty -e impala

# Launch the clipboard manager
bindsym $mod+Ctrl+v exec cliphist list | fuzzel -d -w 90 -l 30 -p "Select an entry to copy it to your clipboard buffer:" | cliphist decode | wl-copy
# Delete an entry from the clipboard manager
bindsym $mod+Ctrl+x exec cliphist list | fuzzel -d -w 90 -l 30 -t cc9393ff -S cc9393ff -p "Select an entry to delete it from cliphist:" | cliphist delete
# Note: you can clear all cliphist entries by running `cliphist wipe`
# zoom
bindsym $mod+z exec  ~/.config/sway/scripts/zoom.sh
# Focus timer 
bindsym $mod+Shift+t exec ~/.config/sway/scripts/focus_timer.sh
# pkill
bindsym $mod+Shift+d exec ~/.config/sway/scripts/pkill.sh
# Android emulator
bindsym $mod+Shift+a exec ~/.config/sway/scripts/emulator.sh
# keyboard layout
bindsym $mod+x exec ~/.config/sway/scripts/layout.sh

# ------------------
# Audio controls
# ------------------
bindsym {
    # Volume
    XF86AudioRaiseVolume exec amixer -q -D pipewire sset Master 5%+ 
    XF86AudioLowerVolume exec amixer -q -D pipewire sset Master 5%-
    XF86AudioMute exec amixer -q -D pipewire sset Master toggle 

    # Microphone
    $mod+XF86AudioRaiseVolume exec amixer -q -D pipewire sset Capture 5%+ 
    $mod+XF86AudioLowerVolume exec amixer -q -D pipewire sset Capture 5%-
    $mod+m exec amixer -q -D pipewire sset Capture toggle 
    
    # Player
    XF86AudioPlay exec playerctl play-pause
    XF86AudioNext exec playerctl next
    XF86AudioPrev exec playerctl previous
    Ctrl+XF86AudioNext exec playerctl position 5+
    Ctrl+XF86AudioPrev exec playerctl position 5-
    Shift+XF86AudioRaiseVolume exec playerctl next
    Shift+XF86AudioLowerVolume exec playerctl previous
    XF86AudioStop exec playerctl stop

    # Backlight
    XF86MonBrightnessUp exec brightnessctl -c backlight set +5%
    XF86MonBrightnessDown exec brightnessctl -c backlight set 5%-
}
set {
  $audio-switcher "Select Audio : [I]nput or [O]utput"
  $audio-switch-cmd ~/.config/sway/scripts/audio_picker.sh
}

mode $audio-switcher {
  bindsym --to-code {
    i exec $audio-switch-cmd source , mode "default"
    o exec $audio-switch-cmd sink , mode "default"

    Return mode "default"
    Escape mode "default"
    $mod+x mode "default"

  }
}
bindsym --to-code $mod+Shift+o mode $audio-switcher
# ------------------
# notification mode
# ------------------
set {
  $notification "Notifications : dismiss [A]ll or [L]ast"

  $notif-cmd makoctl dismiss
}
# bindsym --to-code $mod+n mode $notification
mode $notification {
  bindsym --to-code {
    l exec $notif-cmd , mode "notification"
    a mode "default", exec $notif-cmd --all

    Return mode "default"
    Escape mode "default"
    $mod+x mode "default"
  }
}
bindsym --to-code $mod+c mode $notification

# ------------------
### Screenshot mode:
# ------------------
set {
  $screenshot "Screenshot: [D]isplay or [W]indow or [R]egion"

  $screenshot-cmd ~/.config/sway/scripts/screenshot.sh
}

mode $screenshot {
  bindsym --to-code {
    d mode "default", exec $screenshot-cmd display
    w mode "default", exec $screenshot-cmd window 
    r mode "default", exec $screenshot-cmd region 

    Return mode "default"
    Escape mode "default"
    $mod+x mode "default"
  }
}
bindsym --to-code $mod+s mode $screenshot
